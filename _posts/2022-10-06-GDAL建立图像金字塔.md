---
layout:     post
title:      GDAL建立图像金字塔
subtitle:   
date:       2022-10-06
author:     jiang yuxuan
header-img: img/sl1.jpg
catalog: false
tags:
    - GDAL
---


# **GDAL金字塔接口**
<img src="{{site.baseurl}}/blogImg/221006_1.png">

*psResampling:* 下采样的算法   
*nOverviews:* 金字塔的层数   
*panOverviewList:* int数组，从低到高存储下采样倍率  
*nListBands:* 要创建金字塔的波段数，如果所有波段都创建该值为0  
*panBandList:* 要创建金字塔的波段列表， 如果所有波段都创建该值为nullptr  
*pfnProgress:* 进度回调函数, 或者为nullptr  
*nProgressData:* 进度回调函数参数  

## RasterIO  
在进一步理解与应用金字塔相关的知识前，需要了解RasterIO函数  
<img src="{{site.baseurl}}/blogImg/221006_2.png">  
该函数是用来读写图像数据的，该函数允许从dataset中读取GDALRasterBands到一个缓冲区，或者从一个缓冲区写一个数据到GDALRasterBands类中。如果buffer中的数据type和GDALRasterBands中的不同，该方法会自动转换。如果缓冲区的大小(nBufXSize x nBufYSize)与被访问区域的大小不同（nXSize x nYSize）,该方法还负责图像采样或者复制。  
通过设置nPixelSpace, nLineSpace 和 nBandSpace参数，可以适应不同的缓冲区。  

*eRWFlag:* GF_Read读取一个区域的数据，GF_Write写一个区域的数据  
*nXOff:* 在x方向上，左上点相对于0的偏置  
*nYOff:* 在y方向上，左上点相对于0的偏置  
*nXSize:* 被访问区域x方向上的尺寸  
*nYSize:* 被访问区域y方向上的尺寸  
*pData:* void*类型，缓冲区。其大小至少为 nBufXSize * nBufYSize * nBandCount * eBufType的字节数  
*nBufXSize:* 在内存中需要读或者写的图像区域X方向上的尺寸  
*nBufYSize:* 在内存中需要读或者写的图像区域y方向上的尺寸  
*eBufType:* 图像的类型,int,double这种。这种
